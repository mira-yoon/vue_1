<template>
	<div>
		<h1>Computed</h1>
		<h2>{{ teacher.name }}</h2>
		<h3>ê°•ì˜ê°€ ìˆìŠµë‹ˆê¹Œ?</h3>
		<!-- <p>{{ teacher.lectures.length > 0 ? 'ìˆìŒğŸ˜Š' : 'ì—†ìŒğŸ˜‚' }}</p> -->
		<p>{{ hasLectures }}</p>
		<p>{{ hasLectures }}</p>
		<p>{{ hasLectures }}</p>
		<p>{{ existLecture() }}</p>
		<p>{{ existLecture() }}</p>
		<p>{{ existLecture() }}</p>
		<!-- 
			ìœ„ì™€ ê°™ì´ ì—¬ëŸ¬ë²ˆ í•´ ë³´ë©´, 
			'computed'ëŠ” ì½˜ì†”ì°½ì— í•œ ë²ˆì´ ì°íˆëŠ”ë°, 'method'ëŠ” ì„¸ ë²ˆì´ ì°íŒë‹¤. 

			ê·¸ ì´ìœ ëŠ” computedëŠ” í•œ ë²ˆ ê³„ì‚°ê´¸ ê²°ê³¼ë¥¼ ìºì‹œë¥¼ í•œë‹¤. 
			ë³´ê´€í•˜ê³  ìˆë‹¤ê°€ ë‹¤ìŒì— ìš”ì²­í–ˆì„ ë•Œ, ê·¸ ìºì‹œëœ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì¤€ë‹¤. 

			í•˜ì§€ë§Œ methodëŠ” ì‹¤í–‰ë  ë•Œ ë§ˆë‹¤ ì°íŒë‹¤.

			ìºì‹œê°€ ë‹¤ì‹œ ê³„ì‚°ë˜ëŠ” ì‹œì ì€ ë°˜ì‘í˜• ë°ì´í„°ê°€ ë³€ê²½ë˜ëŠ” ì‹œì ì´ë‹¤. 

			ê·¸ë˜ì„œ computedê°€ ì„±ëŠ¥ë©´ì—ì„œ ì¡°ê¸ˆ ë” ìœ ë¦¬í•˜ë‹¤. 

			ì»´í¬ë„ŒíŠ¸ê°€ ëœë”ë§ë  ë•Œ computedë¡œ ê³„ì‚°ëœ ì†ì„±ì€ ë‹¤ì‹œ ê³„ì‚°ì„ í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤. 
		-->
		<button v-on:click="counter++">Counter : {{ counter }}</button>

		<h2>ì´ë¦„</h2>
		<p>{{ fullName }}</p>
	</div>
</template>

<script>
import { reactive, computed, ref } from 'vue';

export default {
	setup() {
		const teacher = reactive({
			name: 'ì§ì½”ë”©',
			lectures: ['HTML/CSS', 'JavaScript', 'Vue3'],
		});

		const hasLectures = computed(() => {
			console.log('computed');
			return teacher.lectures.length > 0 ? 'ìˆìŒğŸ˜Š' : 'ì—†ìŒğŸ˜‚';
		});

		const existLecture = () => {
			console.log('method');
			return teacher.lectures.length > 0 ? 'ìˆìŒğŸ˜Š' : 'ì—†ìŒğŸ˜‚';
		};

		/*
		computedë¥¼ ì‚¬ìš©í•œ ê²ƒê³¼ ê·¸ëƒ¥ ì½œë°±í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œ ê²ƒê³¼ ê²°ê³¼ëŠ” ê°™ë‹¤. 
		ê·¸ëŸ°ë° computedê°€ ë” íš¨ìœ¨ì ì´ë‹¤. computedëŠ” ê´„í˜¸ ì•ˆì—ì„œ ê³„ì‚°ëœ ê°’ì´ ìºì‹œëœë‹¤.
		*/

		const counter = ref(0);

		/*
		ìœ„ì™€ ê°™ì´ refë¡œ ì¹´ìš´íŠ¸ ë²„íŠ¼ ë§Œë“¤ì–´ì„œ í´ë¦­í•  ë•Œ ë§ˆë‹¤ ëœë”ë§ì´ ìƒˆë¡œ ì¼ì–´ë‚˜ê²Œ í•´ ë³´ë©´ í™•ì‹¤íˆ ë³´ì¸ë‹¤.
		í´ë¦­í•  ë•Œ ë§ˆë‹¤ methodëŠ” ê³„ì† ì‹¤í–‰ë˜ëŠ”ë°, computedëŠ” ìºì‹œì— ìˆëŠ” ê°’ì„ ê·¸ëŒ€ë¡œ ì“´ë‹¤.
		*/

		const firstName = ref('í™');
		const lastName = ref('ê¸¸ë™');
		/*
		const fullName = computed(() => firstName.value + ' ' + lastName.value);
		console.log('console ì¶œë ¥:', fullName.value); // í™ ê¸¸ë™
		fullName.value = 'ì§ ì½”ë”©';

		ìœ„ì™€ ê°™ì´ í™ê¸¸ë™ì„ ì§ì½”ë”©ìœ¼ë¡œ ìˆ˜ì •í•˜ë ¤ê³  í•˜ë©´ ì—ëŸ¬ê°€ ë‚œë‹¤.  computedë¡œ ê³„ì‚°ëœ ì†ì„±ì„ ìˆ˜ì •í•˜ëŠ” ê²ƒì´ ì•ˆ ë˜ëŠ” ê²ƒ..

		computedë¡œ ê³„ì‚°ëœ ì†ì„±ì„ ìˆ˜ì •í•˜ë ¤ë©´ getter, setter í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.
		*/

		const fullName = computed({
			get() {
				return firstName.value + ' ' + lastName.value;
			},
			set(value) {
				console.log('value:', value); // ì§ ì½”ë”©
				console.log(value.split(' ')); // ['ì§', 'ì½”ë”©']
				[firstName.value, lastName.value] = value.split(' '); // êµ¬ì¡°ë¶„í•´í• ë‹¹ìœ¼ë¡œ ê°ê°ì˜ ë³€ìˆ˜ì— í• ë‹¹í•œ ê²ƒ
				console.log(firstName.value); // ì§
				console.log(lastName.value); // ì½”ë”©
			},
		});

		fullName.value = 'ì§ ì½”ë”©';

		console.log('console ì¶œë ¥:', fullName.value); // ì§ ì½”ë”©. setterí•¨ìˆ˜ì—ì„œ êµ¬ì¡°ë¶„í•´í• ë‹¹ì„ í•˜ê¸° ì „ì—ëŠ” 'í™ ê¸¸ë™'ìœ¼ë¡œ ë‚˜ì˜¨ë‹¤.

		return { teacher, hasLectures, existLecture, counter, fullName };
	},
};
</script>

<style lang="scss" scoped></style>
